---
title: "Mini-Project 2"
author: "Your Name Here"
date: "October 31, 2017"
output: html_document
---


## Loading the data

This project is so interesting and relevant to my life!

```{r, include=FALSE}
library(tidyverse)
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```


```{r}
candi<-candidates%>%
  select(cand_id,cand_name,cand_party_affiliation,cand_state)
```


```{r}
commi<-committees%>%
  select(cmte_id,cmte_name,cmte_state,cmte_party_affiliation)
```


```{r}
newtable1<-contributions%>%
  select(cmte_id,cand_id,state,transaction_amt,entity_type)%>%
  left_join(candi, by="cand_id")%>%
  left_join(commi,by="cmte_id")%>%
  select(cand_name,transaction_amt,entity_type,cand_party_affiliation)
newtable1
```
```



```{r}
newtable1%>%
    group_by(cand_name)%>%
    summarize(sum=sum(transaction_amt))%>%
  filter(cand_name%in%c("PIERLUISI, PEDRO R","ALOMAR, RAFAEL COX","DELBENE, SUZAN K"))
```
```


```{r}
compare<-function(name_arg){
  newtable1 %>%
  filter(cand_name==name_arg)%>%
  group_by(entity_type)%>%
  summarize(sum=n_distinct(transaction_amt),amount=sum(transaction_amt))
}
```


```{r}
left_join(house_elections, candidates, by = c("fec_id" = "cand_id"))%>%
  select(cand_name,general_votes)%>%arrange(desc(general_votes))
```


```{r}
compare(name_arg="PIERLUISI, PEDRO R")
```









